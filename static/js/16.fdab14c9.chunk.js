(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{248:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"c",function(){return s}),a.d(t,"a",function(){return i});var n=a(62),r=a(5),l=a(4),o=a.n(l),c=function(){return function(e){o.a.post(r.D).then(function(t){var a=t.data;return e({type:n.b,payload:a})}).catch(function(e){console.log(e)})}},s=function(e){return function(t){o.a.post(r.W,{slug:e}).then(function(e){var a=e.data;return t({type:n.c,payload:a})}).catch(function(e){console.log(e)})}},i=function(){return function(e){return e({type:n.a,payload:[]})}}},346:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(7),l=a(9),o=a(8),c=a(10),s=a(0),i=a.n(s),u=a(90),m=a(17),p=a(201),d=a(358),g=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},a.handleClose=function(){a.setState({open:!1})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){!1===e.confirmLogoutOpen&&this.setState({open:!1}),!0===e.confirmLogoutOpen&&this.setState({open:!0})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{fullWidth:!0,fullScreen:!1,open:this.state.open,onClose:this.handleClose,style:{width:"200px",margin:"auto"},PaperProps:{style:{backgroundColor:"#fff",borderRadius:"10px"}}},i.a.createElement("div",{className:"container",style:{borderRadius:"10px"},onClick:this.props.handleLogout},i.a.createElement("div",{className:"row d-flex justify-content-center mt-30 mb-10 align-items-center flex-column"},i.a.createElement("i",{className:"si si-power logout-icon",style:{fontSize:"3.2rem"}}),i.a.createElement("div",{className:"d-flex justify-content-center my-10 text-uppercase font-w700"},localStorage.getItem("accountLogout"))))))}}]),t}(s.Component),h=a(18),v=a.n(h),f=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={confirmLogoutPopupOpen:!1},a.openConfirmLogout=function(){a.setState({confirmLogoutPopupOpen:!0})},a.handleLogout=function(){a.props.logoutUser()},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(g,{confirmLogoutOpen:this.state.confirmLogoutPopupOpen,handleLogout:function(){return e.handleLogout()}}),i.a.createElement("div",{className:"account-logout mx-15 position-relative",onClick:this.openConfirmLogout},i.a.createElement("div",{className:"flex-auto logout-text"},i.a.createElement("i",{className:"si si-power logout-icon mr-1"})," ",localStorage.getItem("accountLogout")),i.a.createElement(v.a,{duration:"500"})))}}]),t}(s.Component),E=Object(m.b)(function(){return{}},{logoutUser:p.j})(f),b=a(28),y=a.n(b),N=a(42),O=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},a.handleClose=function(){a.setState({open:!1})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){!1===e.ConfirmDeleteOpen&&this.setState({open:!1}),!0===e.ConfirmDeleteOpen&&this.setState({open:!0})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{fullWidth:!0,fullScreen:!1,open:this.state.open,onClose:this.handleClose,style:{width:"300px",margin:"auto"},PaperProps:{style:{backgroundColor:"#fff",borderRadius:"10px"}}},i.a.createElement("div",{className:"container",style:{borderRadius:"10px"},onClick:this.props.handleDelete},i.a.createElement("div",{className:"row d-flex justify-content-center mt-30 mb-20 align-items-center flex-column"},i.a.createElement("div",{className:"d-flex justify-content-center my-10 pl-3 pr-3 font-w700 text-center"},"Are you sure you want to delete your account?"),i.a.createElement("i",{className:"si si-trash confirm-logout-icon",style:{fontSize:"3.2rem",color:"red"}}),i.a.createElement("div",{className:"d-flex justify-content-center my-10 pl-3 pr-3 font-w400 text-center"},"Your name, phone, email, address, wallet balance, wallet transactions will be deleted. We cannot reverse this action!!!")))))}}]),t}(s.Component),C=a(12),x=a(4),S=a.n(x),j=a(5),k=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={confirmDeletePopupOpen:!1,loading:!1,haveRunningOrder:!1,errorMessage:null},a.openConfirmDelete=function(){a.setState({confirmDeletePopupOpen:!0})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"_handleDelete",value:function(){var e=Object(N.a)(y.a.mark(function e(t){var a,n=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),a=this.props.user,S.a.post(j.m,{token:a.data.auth_token,user_id:a.data.id}).then(function(e){var t=e.data;console.log(t),!0===t.success?n.props.logoutUser():(n.setState({loading:!1}),n.setState({confirmDeletePopupOpen:!1}),n.setState({haveRunningOrder:!0}),setTimeout(function(){this.setState({haveRunningOrder:!1})}.bind(n),5e3))}).catch(function(e){n.setState({loading:!1}),console.log(e)});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(O,{ConfirmDeleteOpen:this.state.confirmDeletePopupOpen,handleDelete:function(){return e._handleDelete()}}),this.state.haveRunningOrder&&i.a.createElement("div",{className:"auth-error no-click"},i.a.createElement("div",{className:"error-shake"},"You have running Orders. Kindly complete the orders before Deleting Account!!!")),this.state.loading&&i.a.createElement(C.a,null),i.a.createElement("div",{className:"mx-15 position-relative text-center deleteAccountBtn mt-4",onClick:this.openConfirmDelete},i.a.createElement("div",{className:"flex-auto"},i.a.createElement("div",{className:"btn btn-danger"},i.a.createElement("i",{className:"si si-trash mr-1"})," Delete Account",i.a.createElement(v.a,{duration:"500"})))))}}]),t}(s.Component),w=Object(m.b)(function(e){return{user:e.user.user}},{logoutUser:p.j})(k),A=a(43),P=a(317),I=a(367),D=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},a.handleClose=function(){a.setState({open:!1})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){!1===e.avatarPopupOpen&&this.setState({open:!1}),!0===e.avatarPopupOpen&&this.setState({open:!0})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{maxWidth:!1,fullWidth:!0,fullScreen:!0,open:this.state.open,onClose:this.handleClose},i.a.createElement(I.a,{id:"responsive-dialog-title"},localStorage.getItem("chooseAvatarText")),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user1.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user1"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user2.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user2"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user3.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user3"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user4.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user4"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user5.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user5"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user6.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user6"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user7.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user7"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user8.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user8"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user9.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user9"})),i.a.createElement("div",{className:"col-3"},i.a.createElement("img",{src:"/assets/img/various/avatars/user10.gif",alt:"Avatar",style:{width:"85px"},onClick:this.props.handleAvatarChange,"data-name":"user10"}))),i.a.createElement("div",{className:"d-flex justify-content-center mt-50"},i.a.createElement("button",{className:"btn btn-default btn-md",onClick:this.handleClose},localStorage.getItem("cancelGoBackBtn"))))))}}]),t}(s.Component),L=a(50),_=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={avatarPopupOpen:!1,loading:!1},a.openAvatarPopup=function(){a.setState({avatarPopupOpen:!0})},a.handleAvatarChange=function(e){a.setState({loading:!0}),a.props.changeAvatar(a.props.user_info.auth_token,e.target.getAttribute("data-name")).then(function(e){e&&e.success&&(a.props.updateUserInfo(),a.setState({loading:!1}))})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({avatarPopupOpen:e.avatarPopup})}},{key:"render",value:function(){var e=this.props.user_info;return i.a.createElement(i.a.Fragment,null,this.state.loading&&i.a.createElement(C.a,null),i.a.createElement(D,{avatarPopupOpen:this.state.avatarPopupOpen,handleAvatarChange:this.handleAvatarChange}),i.a.createElement("div",{className:"block-content block-content-full bg-light"},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},i.a.createElement("div",null,i.a.createElement("h2",{className:"font-w600 mb-10"},e.name),i.a.createElement("p",{className:"text-muted"},e.phone," ",i.a.createElement("br",null)," ",e.email),i.a.createElement("i",{className:"fas fa-edit"}),i.a.createElement(L.a,{to:"/my-account/update-profile",delay:200},i.a.createElement("div",{className:"text-center edit-profile-button btn btn-secondary"},"Edit Profile"))),i.a.createElement("div",null,null==e.avatar?i.a.createElement("img",{src:"/assets/img/various/avatars/user2.gif",alt:e.name,style:{width:"100px"},onClick:this.openAvatarPopup}):i.a.createElement("img",{src:"/assets/img/various/avatars/".concat(e.avatar,".gif"),alt:e.name,style:{width:"100px"},onClick:this.openAvatarPopup})))))}}]),t}(s.Component),T=Object(m.b)(function(){return{}},{changeAvatar:p.a})(_),R=a(184),F=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},a.handlePopupOpen=function(){a.setState({open:!0})},a.handlePopupClose=function(){a.setState({open:!1})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.page;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pages-badge mr-3 mb-2 position-relative",onClick:this.handlePopupOpen},e.name,i.a.createElement(v.a,{duration:"500"})),i.a.createElement(R.a,{open:this.state.open,onClose:this.handlePopupClose,closeIconSize:32},i.a.createElement("div",{className:"mt-50",dangerouslySetInnerHTML:{__html:e.body}})))}}]),t}(s.Component),W=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={vatNumber:null},a.handleInputChange=function(e){a.setState({vatNumber:e.target.value})},a.saveVATNumber=function(){var e=a.props.user;a.props.saveVATNumber(e.data.auth_token,a.state.vatNumber).then(function(t){t&&(a.props.updateUserInfo(e.data.id,e.data.auth_token),a.props.handlePopup())})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.user;return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{fullWidth:!0,fullScreen:!1,open:this.props.open,onClose:this.props.handlePopup,style:{width:"100%",margin:"auto"},PaperProps:{style:{backgroundColor:"#fff",borderRadius:"4px"}}},i.a.createElement("div",{className:"container",style:{borderRadius:"5px"}},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col-12 py-3 d-flex justify-content-between align-items-center"},i.a.createElement("h1",{className:"mt-2 mb-0 font-weight-black h4 text-center"},localStorage.getItem("accountTaxVatText"))),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"col-md-9 pb-5"},i.a.createElement("input",{type:"text",name:"vatnumber",defaultValue:e.data.tax_number?e.data.tax_number:this.state.vatNumber,onChange:this.handleInputChange,className:"form-control edit-address-input",autoFocus:!0}),i.a.createElement("div",{className:"mt-20 button-block"},i.a.createElement("button",{type:"submit",className:"btn btn-md btn-block text-white",style:{backgroundColor:localStorage.getItem("storeColor"),height:"3rem",textTransform:"uppercase"},disabled:""===this.state.vatNumber,onClick:this.saveVATNumber},localStorage.getItem("customerVatSave")))))))))}}]),t}(s.Component),U=Object(m.b)(function(e){return{user:e.user.user,vat_number:e.user.vat_number}},{updateUserInfo:p.p,saveVATNumber:p.m})(W),V=a(78),M=a.n(V),B=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},a.handleVATNumber=function(){a.setState({open:!a.state.open})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.pages;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h6",{className:"mx-15 mt-3"},localStorage.getItem("accountMyAccount")),i.a.createElement("div",{className:"account-menu ml-15 my-3"},i.a.createElement("div",{className:"my-account-menu-item-block col p-0 mr-3"},i.a.createElement(L.a,{to:"/my-addresses",delay:200},i.a.createElement("div",{className:"text-center my-account-menu-item"},i.a.createElement(M.a,{top:!0,delay:100},i.a.createElement("div",null,i.a.createElement("i",{className:"si si-home"})))),i.a.createElement("div",{className:"text-center"},localStorage.getItem("accountManageAddress")),i.a.createElement(v.a,{duration:"500"}))),i.a.createElement("div",{className:"my-account-menu-item-block col p-0 mr-3"},i.a.createElement(L.a,{to:"/my-orders",delay:200},i.a.createElement("div",{className:"text-center my-account-menu-item"},i.a.createElement(M.a,{top:!0,delay:250},i.a.createElement("div",null,i.a.createElement("i",{className:"si si-bag"})))),i.a.createElement("div",{className:"text-center"},localStorage.getItem("accountMyOrders")),i.a.createElement(v.a,{duration:"500"}))),i.a.createElement("div",{className:"my-account-menu-item-block col p-0 mr-3"},i.a.createElement(L.a,{to:"/my-wallet",delay:200},i.a.createElement("div",{className:"text-center my-account-menu-item"},i.a.createElement(M.a,{top:!0,delay:350},i.a.createElement("div",null,i.a.createElement("i",{className:"si si-wallet"})))),i.a.createElement("div",{className:"text-center"},localStorage.getItem("accountMyWallet")),i.a.createElement(v.a,{duration:"500"}))),i.a.createElement("div",{className:"my-account-menu-item-block col p-0 mr-3"},i.a.createElement(L.a,{to:"/my-favorite-stores",delay:200},i.a.createElement("div",{className:"text-center my-account-menu-item"},i.a.createElement(M.a,{top:!0,delay:450},i.a.createElement("div",null,i.a.createElement("i",{className:"si si-heart"})))),i.a.createElement("div",{className:"text-center"},localStorage.getItem("accountMyFavouriteStores")),i.a.createElement(v.a,{duration:"500"}))),"true"===localStorage.getItem("showCustomerVatNumber")&&i.a.createElement("div",{className:"my-account-menu-item-block col p-0 mr-3",onClick:this.handleVATNumber},i.a.createElement("div",{className:"text-center my-account-menu-item"},i.a.createElement(M.a,{top:!0,delay:550},i.a.createElement("div",null,i.a.createElement("i",{className:"si si-tag"})))),i.a.createElement("div",{className:"text-center"},localStorage.getItem("accountTaxVatText")),i.a.createElement(v.a,{duration:"500"})),"true"===localStorage.getItem("enableReferAndEarn")&&i.a.createElement("div",{className:"my-account-menu-item-block col p-0 mr-3 referAndEarnBlock"},i.a.createElement(L.a,{to:"/refer-and-earn",delay:200},i.a.createElement("div",{className:"text-center my-account-menu-item"},i.a.createElement(M.a,{top:!0,delay:650},i.a.createElement("div",null,i.a.createElement("img",{src:"https://www.svgrepo.com/show/122182/share-button.svg",alt:"refer",style:{maxWidth:"20%"}})))),i.a.createElement("div",{className:"text-center"},localStorage.getItem("referAndEarnText")),i.a.createElement(v.a,{duration:"500"})))),i.a.createElement("div",{className:"mx-15 my-3"},i.a.createElement("h6",null,localStorage.getItem("accountHelpFaq")),i.a.createElement("div",{className:"account-pages"},e.map(function(e){return i.a.createElement("div",{key:e.id},i.a.createElement(F,{page:e}))}))),i.a.createElement(U,{handlePopup:this.handleVATNumber,open:this.state.open,user_info:this.props.user_info}))}}]),t}(s.Component),z=a(248),H=a(25),J=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={avatarPopup:!1},a.updateUserInfo=function(){var e=a.props.user;a.props.updateUserInfo(e.data.id,e.data.auth_token).then(function(e){e&&e.payload.data.id&&a.setState({avatarPopup:!1})})},a.handleOnChange=function(e){a.props.getSingleLanguageData(e.target.value),localStorage.setItem("userPreferedLanguage",e.target.value)},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;null!==localStorage.getItem("storeColor")&&e.success&&(this.props.getPages(),this.updateUserInfo(e))}},{key:"componentWillReceiveProps",value:function(e){if(this.props.languages!==e.languages)if(localStorage.getItem("userPreferedLanguage"))this.props.getSingleLanguageData(localStorage.getItem("userPreferedLanguage"));else if(e.languages.length){console.log("Fetching Translation Data...");var t=e.languages.filter(function(e){return 1===e.is_default})[0].id;this.props.getSingleLanguageData(t)}}},{key:"render",value:function(){if(window.innerWidth>768)return i.a.createElement(P.a,{to:"/"});if(null===localStorage.getItem("storeColor"))return i.a.createElement(P.a,{to:"/"});var e=this.props,t=e.user,a=e.pages;if(!t.success)return i.a.createElement(P.a,{to:"/login"});var n=this.props.languages;return i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{seotitle:localStorage.getItem("footerAccount"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),i.a.createElement(T,{user_info:t.data,updateUserInfo:this.updateUserInfo,avatarPopup:this.state.avatarPopup}),i.a.createElement(B,{pages:a}),i.a.createElement(E,null),i.a.createElement(w,null),i.a.createElement(u.a,{active_account:!0}),n&&n.length>1&&i.a.createElement("div",{className:"mt-4 d-flex align-items-center justify-content-center mb-100"},i.a.createElement("div",{className:"mr-2"},localStorage.getItem("changeLanguageText")),i.a.createElement("select",{onChange:this.handleOnChange,defaultValue:localStorage.getItem("userPreferedLanguage")?localStorage.getItem("userPreferedLanguage"):n.filter(function(e){return 1===e.is_default})[0].id,className:"form-control language-select"},n.map(function(e){return i.a.createElement("option",{value:e.id,key:e.id},e.language_name)}))),i.a.createElement("div",{className:"mb-100"}))}}]),t}(s.Component);t.default=Object(m.b)(function(e){return{user:e.user.user,pages:e.pages.pages,languages:e.languages.languages,language:e.languages.language}},{getPages:z.b,getSingleLanguageData:H.b,updateUserInfo:p.p})(J)}}]);