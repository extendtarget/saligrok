(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{222:function(e,t,a){"use strict";function n(e,t){var a=t.left,n=t.right,r=t.mirror,s=t.opposite,o=(a?1:0)|(n?2:0)|(r?16:0)|(s?32:0)|(e?64:0);if(m.hasOwnProperty(o))return m[o];if(!r!=!(e&&s)){var i=[n,a];a=i[0],n=i[1]}var l=a?"-100%":n?"100%":"0",c=e?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+l+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+l+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return m[o]=(0,u.animation)(c),m[o]}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.defaults,t=e.children,a=(e.out,e.forever),r=e.timeout,s=e.duration,o=void 0===s?u.defaults.duration:s,l=e.delay,c=void 0===l?u.defaults.delay:l,m=e.count,h=void 0===m?u.defaults.count:m,p=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["children","out","forever","timeout","duration","delay","count"]),d={make:n,duration:void 0===r?o:r,delay:c,forever:a,count:h,style:{animationFillMode:"both"}};return p.left,p.right,p.mirror,p.opposite,(0,i.default)(p,d,d,t)}Object.defineProperty(t,"__esModule",{value:!0});var s,o=a(77),i=(s=o)&&s.__esModule?s:{default:s},l=a(1),u=a(58),c={out:l.bool,left:l.bool,right:l.bool,mirror:l.bool,opposite:l.bool,duration:l.number,timeout:l.number,delay:l.number,count:l.number,forever:l.bool},m={};r.propTypes=c,t.default=r,e.exports=t.default},223:function(e,t,a){"use strict";var n=a(6),r=a(7),s=a(9),o=a(8),i=a(10),l=a(0),u=a.n(l),c=a(18),m=a.n(c),h=a(222),p=a.n(h),d=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={shareButton:!1,androidShareButton:!1},a.shareLink=function(e){navigator.share&&navigator.share({url:e.link}).then(function(){return console.log("Successful share")}).catch(function(e){return console.log("Error sharing",e)})},a.shareLinkViaAndroidApp=function(e){"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.shareDataThroughIntent(e.link)},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){navigator.share&&this.setState({shareButton:!0}),"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&this.setState({shareButton:!1,androidShareButton:!0})}},{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,this.state.shareButton&&u.a.createElement("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:function(){return e.shareLink(e.props)}},u.a.createElement("i",{className:"si si-share"}),u.a.createElement(m.a,{duration:"500"})),this.state.androidShareButton&&u.a.createElement("button",{type:"button",className:"btn search-navs-btns nav-share-btn",style:{position:"relative"},onClick:function(){return e.shareLinkViaAndroidApp(e.props)}},u.a.createElement("i",{className:"si si-share"}),u.a.createElement(m.a,{duration:"500"})))}}]),t}(l.Component),f=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"col-12 p-0 fixed",style:{zIndex:"9"}},u.a.createElement("div",{className:"block m-0"},u.a.createElement("div",{className:"block-content p-0 ".concat(this.props.dark&&"nav-dark")},u.a.createElement("div",{className:"input-group ".concat(this.props.boxshadow&&"search-box")},!this.props.disable_back_button&&u.a.createElement("div",{className:"input-group-prepend"},this.props.back_to_home&&u.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/")},200)}},u.a.createElement("i",{className:"si si-arrow-left"}),u.a.createElement(m.a,{duration:"500"})),this.props.goto_orders_page&&u.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/my-orders")},200)}},u.a.createElement("i",{className:"si si-arrow-left"}),u.a.createElement(m.a,{duration:"500"})),this.props.goto_accounts_page&&u.a.createElement("button",{type:"button",className:"btn search-navs-btns",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/my-account")},200)}},u.a.createElement("i",{className:"si si-arrow-left"}),u.a.createElement(m.a,{duration:"500"})),!this.props.back_to_home&&!this.props.goto_orders_page&&!this.props.goto_accounts_page&&u.a.createElement("button",{type:"button",className:"btn search-navs-btns ".concat(this.props.dark&&"nav-dark"),style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.goBack()},200)}},u.a.createElement("i",{className:"si si-arrow-left"}),u.a.createElement(m.a,{duration:"500"}))),u.a.createElement("p",{className:"form-control search-input d-flex align-items-center ".concat(this.props.dark&&"nav-dark")},this.props.logo&&u.a.createElement("img",{src:"/assets/img/logos/logo.png",alt:localStorage.getItem("storeName"),width:"120"}),this.props.has_title?u.a.createElement(u.a.Fragment,null,this.props.from_checkout?u.a.createElement("span",{className:"nav-page-title",id:"checkoutNavPageTitle"},localStorage.getItem("cartToPayText")," ",u.a.createElement("span",{style:{color:localStorage.getItem("storeColor")}},"left"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"),this.props.title,"right"===localStorage.getItem("currencySymbolAlign")&&localStorage.getItem("currencyFormat"))):u.a.createElement("span",{className:"nav-page-title"},this.props.title)):null,this.props.has_delivery_icon&&u.a.createElement(p.a,{left:!0},u.a.createElement("img",{src:"/assets/img/various/delivery-bike.png",alt:this.props.title,className:"nav-page-title"}))),this.props.has_restaurant_info?u.a.createElement("div",{className:"fixed-restaurant-info hidden",ref:function(t){e.heading=t}},u.a.createElement("span",{className:"font-w700 fixedRestaurantName"},this.props.restaurant.name),u.a.createElement("br",null),u.a.createElement("span",{className:"font-w400 fixedRestaurantTime"},u.a.createElement("i",{className:"si si-clock"})," ",this.props.restaurant.delivery_time," ",localStorage.getItem("homePageMinsText"))):null,u.a.createElement("div",{className:"input-group-append"},!this.props.disable_search&&u.a.createElement("button",{type:"submit",className:"btn search-navs-btns",style:{position:"relative"}},u.a.createElement("i",{className:"si si-magnifier"}),u.a.createElement(m.a,{duration:"500"})),this.props.homeButton&&u.a.createElement("button",{type:"button",className:"btn search-navs-btns nav-home-btn",style:{position:"relative"},onClick:function(){setTimeout(function(){e.context.router.history.push("/")},200)}},u.a.createElement("i",{className:"si si-home"}),u.a.createElement(m.a,{duration:"500"})),this.props.shareButton&&u.a.createElement(d,{link:window.location.href})))))))}}]),t}(l.Component);f.contextTypes={router:function(){return null}};t.a=f},225:function(e,t,a){var n,r,s;r=[a(0)],void 0===(s="function"===typeof(n=function(e){"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(a,!0).forEach(function(t){i(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=function(){function n(){var t=this,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i(this,"showMessageFor",function(e){t.visibleFields.includes(e)||t.visibleFields.push(e),t.helpers.forceUpdateIfNeeded()}),i(this,"hideMessageFor",function(e){var a=t.visibleFields.indexOf(e);-1<a&&t.visibleFields.splice(a,1),t.helpers.forceUpdateIfNeeded()}),i(this,"helpers",{parent:this,passes:function(e,t,a,n){return n.hasOwnProperty(e)?!(this.isRequired(e,n)||!this.isBlank(t))||!1!==n[e].rule(t,a,this.parent):(console.error("Rule Not Found: There is no rule with the name ".concat(e,".")),!0)},isRequired:function(e,t){return t[e].hasOwnProperty("required")&&t[e].required},isBlank:function(e){return null==e||this.testRegex(e,/^[\s]*$/)},normalizeValues:function(e,t){return[this.valueOrEmptyString(e),this.getValidation(t),this.getOptions(t)]},getValidation:function(e){return e===Object(e)&&Object.keys(e).length?Object.keys(e)[0]:e.split(":")[0]},getOptions:function(e){if(e===Object(e)&&Object.values(e).length){var t=Object.values(e)[0];return Array.isArray(t)?t:[t]}return 1<(t=e.split(":")).length?t[1].split(","):[]},valueOrEmptyString:function(e){return null==e?"":e},toSentence:function(e){return e.slice(0,-2).join(", ")+(e.slice(0,-2).length?", ":"")+e.slice(-2).join(2<e.length?", or ":" or ")},testRegex:function(e,t){return null!==e.toString().match(t)},forceUpdateIfNeeded:function(){this.parent.autoForceUpdate&&this.parent.autoForceUpdate.forceUpdate()},message:function(e,t,a,n){a.messages=a.messages||{};var r=a.messages[e]||a.messages.default||this.parent.messages[e]||this.parent.messages.default||n[e].message;return r.replace(":attribute",this.humanizeFieldName(t))},humanizeFieldName:function(e){return e.replace(/([A-Z])/g," $1").replace(/_/g," ").toLowerCase()},element:function(e,t){var a=t.element||this.parent.element;return a(e,t.className)},numeric:function(e){return this.testRegex(e,/^(\d+.?\d*)?$/)},momentInstalled:function(){return!(!window||!window.moment)||(console.warn("Date validators require using momentjs https://momentjs.com and moment objects."),!1)},size:function(e,t){return"string"===t||void 0===t||"array"===t?e.length:"num"===t?parseFloat(e):void 0},sizeText:function(e){return"string"===e||void 0===e?" characters":"array"===e?" elements":""}}),this.fields={},this.visibleFields=[],this.errorMessages={},this.messagesShown=!1,this.rules=r({accepted:{message:"The :attribute must be accepted.",rule:function(e){return!0===e},required:!0},after:{message:"The :attribute must be after :date.",rule:function(e,a){return t.helpers.momentInstalled()&&moment.isMoment(e)&&e.isAfter(a[0],"day")},messageReplace:function(e,t){return e.replace(":date",t[0].format("MM/DD/YYYY"))}},after_or_equal:{message:"The :attribute must be after or on :date.",rule:function(e,a){return t.helpers.momentInstalled()&&moment.isMoment(e)&&e.isSameOrAfter(a[0],"day")},messageReplace:function(e,t){return e.replace(":date",t[0].format("MM/DD/YYYY"))}},alpha:{message:"The :attribute may only contain letters.",rule:function(e){return t.helpers.testRegex(e,/^[A-Z]*$/i)}},alpha_space:{message:"The :attribute may only contain letters and spaces.",rule:function(e){return t.helpers.testRegex(e,/^[A-Z\s]*$/i)}},alpha_num:{message:"The :attribute may only contain letters and numbers.",rule:function(e){return t.helpers.testRegex(e,/^[A-Z0-9]*$/i)}},alpha_num_space:{message:"The :attribute may only contain letters, numbers, and spaces.",rule:function(e){return t.helpers.testRegex(e,/^[A-Z0-9\s]*$/i)}},alpha_num_dash:{message:"The :attribute may only contain letters, numbers, and dashes.",rule:function(e){return t.helpers.testRegex(e,/^[A-Z0-9_-]*$/i)}},alpha_num_dash_space:{message:"The :attribute may only contain letters, numbers, dashes, and spaces.",rule:function(e){return t.helpers.testRegex(e,/^[A-Z0-9_-\s]*$/i)}},array:{message:"The :attribute must be an array.",rule:function(e){return Array.isArray(e)}},before:{message:"The :attribute must be before :date.",rule:function(e,a){return t.helpers.momentInstalled()&&moment.isMoment(e)&&e.isBefore(a[0],"day")},messageReplace:function(e,t){return e.replace(":date",t[0].format("MM/DD/YYYY"))}},before_or_equal:{message:"The :attribute must be before or on :date.",rule:function(e,a){return t.helpers.momentInstalled()&&moment.isMoment(e)&&e.isSameOrBefore(a[0],"day")},messageReplace:function(e,t){return e.replace(":date",t[0].format("MM/DD/YYYY"))}},between:{message:"The :attribute must be between :min and :max:type.",rule:function(e,a){return t.helpers.size(e,a[2])>=parseFloat(a[0])&&t.helpers.size(e,a[2])<=parseFloat(a[1])},messageReplace:function(e,a){return e.replace(":min",a[0]).replace(":max",a[1]).replace(":type",t.helpers.sizeText(a[2]))}},boolean:{message:"The :attribute must be a boolean.",rule:function(e){return!1===e||!0===e}},card_exp:{message:"The :attribute must be a valid expiration date.",rule:function(e){return t.helpers.testRegex(e,/^(([0]?[1-9]{1})|([1]{1}[0-2]{1}))\s?\/\s?(\d{2}|\d{4})$/)}},card_num:{message:"The :attribute must be a valid credit card number.",rule:function(e){return t.helpers.testRegex(e,/^\d{4}\s?\d{4,6}\s?\d{4,5}\s?\d{0,8}$/)}},currency:{message:"The :attribute must be a valid currency.",rule:function(e){return t.helpers.testRegex(e,/^\$?(\d{1,3})(\,?\d{3})*\.?\d{0,2}$/)}},date:{message:"The :attribute must be a date.",rule:function(e){return t.helpers.momentInstalled()&&moment.isMoment(e)}},date_equals:{message:"The :attribute must be on :date.",rule:function(e,a){return t.helpers.momentInstalled()&&moment.isMoment(e)&&e.isSame(a[0],"day")},messageReplace:function(e,t){return e.replace(":date",t[0].format("MM/DD/YYYY"))}},email:{message:"The :attribute must be a valid email address.",rule:function(e){return t.helpers.testRegex(e,/^[A-Z0-9.!#$%&'*+-\/=?^_`{|}~]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i)}},in:{message:"The selected :attribute must be :values.",rule:function(e,t){return t.includes(e)},messageReplace:function(e,a){return e.replace(":values",t.helpers.toSentence(a))}},integer:{message:"The :attribute must be an integer.",rule:function(e){return t.helpers.testRegex(e,/^\d*$/)}},max:{message:"The :attribute may not be greater than :max:type.",rule:function(e,a){return t.helpers.size(e,a[1])<=parseFloat(a[0])},messageReplace:function(e,a){return e.replace(":max",a[0]).replace(":type",t.helpers.sizeText(a[1]))}},min:{message:"The :attribute must be at least :min:type.",rule:function(e,a){return t.helpers.size(e,a[1])>=parseFloat(a[0])},messageReplace:function(e,a){return e.replace(":min",a[0]).replace(":type",t.helpers.sizeText(a[1]))}},not_in:{message:"The selected :attribute must not be :values.",rule:function(e,t){return!t.includes(e)},messageReplace:function(e,a){return e.replace(":values",t.helpers.toSentence(a))}},not_regex:{message:"The :attribute must not match the required pattern.",rule:function(e,a){return!t.helpers.testRegex(e,"string"==typeof a[0]||a[0]instanceof String?new RegExp(a[0]):a[0])}},numeric:{message:"The :attribute must be a number.",rule:function(e){return t.helpers.numeric(e)}},phone:{message:"The :attribute must be a valid phone number.",rule:function(e){return t.helpers.testRegex(e,/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/)}},regex:{message:"The :attribute must match the required pattern.",rule:function(e,a){return t.helpers.testRegex(e,"string"==typeof a[0]||a[0]instanceof String?new RegExp(a[0]):a[0])}},required:{message:"The :attribute field is required.",rule:function(e){return!t.helpers.isBlank(e)},required:!0},size:{message:"The :attribute must be :size:type.",rule:function(e,a){return t.helpers.size(e,a[1])==parseFloat(a[0])},messageReplace:function(e,a){return e.replace(":size",a[0]).replace(":type",t.helpers.sizeText(a[1]))}},string:{message:"The :attribute must be a string.",rule:function(e){return a(e)===a("string")}},typeof:{message:"The :attribute is not the correct type of :type.",rule:function(e,t){return a(e)===a(t[0])},messageReplace:function(e,t){return e.replace(":type",a(t[0]))}},url:{message:"The :attribute must be a url.",rule:function(e){return t.helpers.testRegex(e,/^(https?|ftp):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i)}}},s.validators||{}),n.locales.hasOwnProperty(s.locale)||console.warn("Locale not found! Make sure it is spelled correctly and the locale file is loaded.");var o=n.locales[s.locale]||{};Object.keys(this.rules).forEach(function(e){t.rules[e].message=o[e]||t.rules[e].message}),this.messages=s.messages||{},this.className=s.className,this.autoForceUpdate=s.autoForceUpdate||!1,!1===s.element?this.element=function(e){return e}:s.hasOwnProperty("element")?this.element=s.element:"object"===("undefined"==typeof navigator?"undefined":a(navigator))&&"ReactNative"===navigator.product?this.element=function(e){return e}:this.element=function(a,n){return e.createElement("div",{className:n||t.className||"srv-validation-message"},a)}}return o(n,null,[{key:"addLocale",value:function(e,t){this.locales[e]=t}}]),o(n,[{key:"getErrorMessages",value:function(){return this.errorMessages}},{key:"showMessages",value:function(){this.messagesShown=!0,this.helpers.forceUpdateIfNeeded()}},{key:"hideMessages",value:function(){this.messagesShown=!1,this.helpers.forceUpdateIfNeeded()}},{key:"allValid",value:function(){for(var e in this.fields)if(!1===this.fieldValid(e))return!1;return!0}},{key:"fieldValid",value:function(e){return this.fields.hasOwnProperty(e)&&!0===this.fields[e]}},{key:"purgeFields",value:function(){this.fields={},this.errorMessages={}}},{key:"messageWhenPresent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.helpers.isBlank(e)&&this.messagesShown)return this.helpers.element(e,t)}},{key:"messageAlways",value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(console.warn("The messageAlways() method is deprecated in SimpleReactValidator. Please see the documentation and switch to the messageWhenPresent() method."),t&&this.messagesShown)return this.helpers.element(t,a)}},{key:"message",value:function(e,a,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};this.errorMessages[e]=null,this.fields[e]=!0,Array.isArray(n)||(n=n.split("|"));var o=s.validators?r({},this.rules,{},s.validators):this.rules,i=!0,l=!1,u=void 0;try{for(var c,m=n[Symbol.iterator]();!(i=(c=m.next()).done);i=!0){var h=c.value,p=t(this.helpers.normalizeValues(a,h),3),d=p[0],f=p[1],g=p[2];if(!this.helpers.passes(f,d,g,o)){this.fields[e]=!1;var b=this.helpers.message(f,e,s,o);if(0<g.length&&o[f].hasOwnProperty("messageReplace")&&(b=o[f].messageReplace(b,g)),this.errorMessages[e]=b,this.messagesShown||this.visibleFields.includes(e))return this.helpers.element(b,s)}}}catch(e){l=!0,u=e}finally{try{i||null==m.return||m.return()}finally{if(l)throw u}}}}]),n}();return i(l,"version","1.2.4"),i(l,"locales",{en:{}}),l})?n.apply(t,r):n)||(e.exports=s)},344:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a.n(n),s=a(42),o=a(51),i=a(6),l=a(7),u=a(9),c=a(8),m=a(10),h=a(88),p=a(0),d=a.n(p),f=a(223),g=a(225),b=a.n(g),y=a(12),v=a(4),E=a.n(v),w=a(17),S=a(317),k=a(5),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).state={loading:!1,open:!1,countryCodeSelect:"",name:"",email:"",user:{},phone:"",email_phone_already_used:!1},e.handleInputChange=function(t){"phone"===t.target.name?(e.setState({phone:e.state.countryCodeSelect+t.target.value.replace(/^0+/,"")}),e.setState({onlyPhone:t.target.value.replace(/^0+/,"")})):e.setState(Object(o.a)({},t.target.name,t.target.value.trim()))},e.handleCountryCodeChange=function(t){var a=t.target;e.setState({countryCodeSelect:a.value},function(){e.setState({phone:a.value+e.state.onlyPhone})})},e.processDefaultCountryCode=function(){var t=localStorage.getItem("phoneCountryCode").split(",");return 0===t.length?d.a.createElement("span",{className:"country-code"}):1===t.length?d.a.createElement("span",{className:"country-code"},t[0].replace(/\s/g,"")):t.length>1?d.a.createElement("select",{name:"countryCodeSelect",onChange:e.handleCountryCodeChange,className:"country-code--dropdown"},t.map(function(e){return d.a.createElement("option",{key:e,value:e.replace(/\s/g,"")},e.replace(/\s/g,""))})):void 0},e.validator=new b.a({autoForceUpdate:Object(h.a)(Object(h.a)(e)),messages:{required:localStorage.getItem("fieldValidationMsg"),email:localStorage.getItem("emailValidationMsg"),regex:localStorage.getItem("phoneValidationMsg")},locale:"en"}),e.handleInputChange=e.handleInputChange.bind(Object(h.a)(Object(h.a)(e))),e._handleUpdatProfile=e._handleUpdatProfile.bind(Object(h.a)(Object(h.a)(e))),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user;e.success&&(this.setState({user:e}),this.setState({name:e.data.name}),this.setState({email:e.data.email}));var t=localStorage.getItem("phoneCountryCode").split(",");this.setState({countryCodeSelect:t[0].replace(/\s/g,"")})}},{key:"componentWillReceiveProps",value:function(e){}},{key:"_handleUpdatProfile",value:function(){var e=Object(s.a)(r.a.mark(function e(t){var a,n,s,o,i,l=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),a=this.state,n=a.name,s=a.email,o=a.phone,i=this.props.user,t.preventDefault(),E.a.post(k.Ab,{token:i.data.auth_token,user_id:i.data.id,name:n,email:s,phone:o}).then(function(e){var t=e.data;l.setState({loading:!1}),t.success&&l.props.history.push("/profile"),!0===t.email_phone_already_used?l.setState({email_phone_already_used:!0}):l.setState({email_phone_already_used:!1}),console.log(t)}).catch(function(e){l.setState({loading:!1}),console.log(e)});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return window.innerWidth>768?d.a.createElement(S.a,{to:"/"}):null===localStorage.getItem("storeColor")?d.a.createElement(S.a,{to:"/"}):d.a.createElement(d.a.Fragment,null,d.a.createElement(f.a,{boxshadow:!0,has_title:!0,title:"Update Profile",disable_search:!0,goto_accounts_page:!0}),this.state.error&&d.a.createElement("div",{className:"auth-error"},d.a.createElement("div",{className:"error-shake"},""!==this.state.errorMessage?this.state.errorMessage:localStorage.getItem("loginErrorMessage"))),this.state.email_phone_already_used&&d.a.createElement("div",{className:"auth-error"},d.a.createElement("div",{className:"error-shake"},localStorage.getItem("emailPhoneAlreadyRegistered"))),this.state.loading&&d.a.createElement(y.a,null),d.a.createElement("div",{className:"block-content block-content-full pt-80 pb-80 height-100-percent px-15"},d.a.createElement("form",{onSubmit:this._handleUpdatProfile},d.a.createElement("div",{className:""},d.a.createElement("div",{className:""},d.a.createElement("label",{className:""},"Email Address:"),d.a.createElement("input",{type:"email",className:"form-control auth-input",name:"email",value:this.state.email,onChange:this.handleInputChange,style:{width:"100%",borderRadius:"0.1rem",height:"5rem"},placeholder:"Enter your new email address",required:!0}),this.validator.message("email",this.state.email,"required|email")),d.a.createElement("br",null),d.a.createElement("div",{className:""},d.a.createElement("label",{className:""},"Name:"),d.a.createElement("input",{type:"text",className:"form-control auth-input",name:"name",value:this.state.name,onChange:this.handleInputChange,style:{width:"100%",borderRadius:"0.1rem",height:"5rem"},placeholder:"Enter your new name",required:!0}),this.validator.message("name",this.state.name,"required|string")),d.a.createElement("br",null),d.a.createElement("div",{className:""},d.a.createElement("label",{className:""},"Phone Number:"),d.a.createElement("div",null,this.processDefaultCountryCode(),d.a.createElement("span",null,d.a.createElement("input",{name:"phone",type:"tel",onChange:this.handleInputChange,className:"form-control phone-number-country-code auth-input",placeholder:"Leave Empty If No Change"}),this.validator.message("phone",this.state.phone,["required",{regex:["^\\+[1-9]\\d{1,14}$"]},{min:["8"]}])))),d.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor"),width:"100%",borderRadius:"4px"}},"Update Profile")))))}}]),t}(p.Component);t.default=Object(w.b)(function(e){return{user:e.user.user}},function(){return{}})(_)}}]);