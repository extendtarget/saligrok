(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{222:function(e,t,a){"use strict";function o(e,t){var a=t.left,o=t.right,n=t.mirror,r=t.opposite,l=(a?1:0)|(o?2:0)|(n?16:0)|(r?32:0)|(e?64:0);if(d.hasOwnProperty(l))return d[l];if(!n!=!(e&&r)){var s=[o,a];a=s[0],o=s[1]}var i=a?"-100%":o?"100%":"0",u=e?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+i+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+i+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return d[l]=(0,c.animation)(u),d[l]}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,a=(e.out,e.forever),n=e.timeout,r=e.duration,l=void 0===r?c.defaults.duration:r,i=e.delay,u=void 0===i?c.defaults.delay:i,d=e.count,m=void 0===d?c.defaults.count:d,g=function(e,t){var a={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a}(e,["children","out","forever","timeout","duration","delay","count"]),p={make:o,duration:void 0===n?l:n,delay:u,forever:a,count:m,style:{animationFillMode:"both"}};return g.left,g.right,g.mirror,g.opposite,(0,s.default)(g,p,p,t)}Object.defineProperty(t,"__esModule",{value:!0});var r,l=a(77),s=(r=l)&&r.__esModule?r:{default:r},i=a(1),c=a(58),u={out:i.bool,left:i.bool,right:i.bool,mirror:i.bool,opposite:i.bool,duration:i.number,timeout:i.number,delay:i.number,count:i.number,forever:i.bool},d={};n.propTypes=u,t.default=n,e.exports=t.default},229:function(e,t,a){"use strict";var o=a(6),n=a(7),r=a(9),l=a(8),s=a(10),i=a(0),c=a.n(i),u=a(18),d=a.n(u),m=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{type:"button",className:"btn search-navs-btns back-button",style:{position:"relative"},onClick:this.context.router.history.goBack},c.a.createElement("i",{className:"si si-arrow-left"}),c.a.createElement(d.a,{duration:"500"})))}}]),t}(i.Component);m.contextTypes={router:function(){return null}},t.a=m},244:function(e,t,a){"use strict";var o=a(268),n=a(0),r=a.n(n),l=a(259),s=a.n(l);t.a=s()(function(e){var t=e.children,a=e.triggerLogin,n=Object(o.a)(e,["children","triggerLogin"]);return r.a.createElement("button",Object.assign({onClick:a},n,{className:n.className}),t)})},261:function(e,t,a){"use strict";a.r(t);var o=a(51),n=a(6),r=a(7),l=a(9),s=a(8),i=a(10),c=a(88),u=a(0),d=a.n(u),m=a(225),g=a.n(m),p=a(317),h=a(229),f=a(17),v=a(201),S=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(l.a)(this,Object(s.a)(t).call(this))).state={loading:!1,email:"",code:"",password:"",show_mail_form:!0,show_code_validation_form:!1,show_password_change_form:!1,error:!1,error_msg:"",dontHaveOtp:!0,completed:!1},e.handleInputChange=function(t){e.setState(Object(o.a)({},t.target.name,t.target.value))},e.handleAlreadyHaveOtp=function(){e.validator.fieldValid("email")?e.setState({show_mail_form:!1,show_code_validation_form:!0,dontHaveOtp:!1},function(){e.refs.otpInput.focus()}):(e.refs.emailInput.focus(),e.validator.showMessages())},e.handleDontHaveOtp=function(){e.setState({show_mail_form:!0,show_code_validation_form:!1,dontHaveOtp:!0},function(){e.refs.emailInput.focus()})},e.handleSendEmail=function(t){t.preventDefault(),e.validator.fieldValid("email")?(e.refs.otpEmailSendBtn.setAttribute("disabled","disabled"),e.props.sendPasswordResetMail(e.state.email),e.setState({loading:!0})):(console.log("Email Validation Failed"),e.validator.showMessages(),e.refs.emailInput.focus())},e.handleValidateCode=function(t){t.preventDefault(),e.validator.fieldValid("code")?(e.refs.otpVerifyBtn.setAttribute("disabled","disabled"),e.props.verifyPasswordResetOtp(e.state.email,e.state.code),e.setState({loading:!0})):(console.log("Code Validation Failed"),e.validator.showMessages(),e.refs.otpInput.focus())},e.handleChangePassword=function(t){t.preventDefault(),e.validator.fieldValid("password")?(e.refs.changePassBtn.setAttribute("disabled","disabled"),e.props.changeUserPassword(e.state.email,e.state.code,e.state.password),e.setState({loading:!0})):(console.log("Password Validation Failed"),e.validator.showMessages(),e.refs.passwordInput.focus())},e.validator=new g.a({autoForceUpdate:Object(c.a)(Object(c.a)(e)),messages:{required:localStorage.getItem("fieldValidationMsg"),email:localStorage.getItem("emailValidationMsg"),min:localStorage.getItem("minimumLengthValidationMessage")}}),e}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.reset_mail!==e.reset_mail&&(e.reset_mail.success?(console.log("Mail Sending Success"),this.setState({loading:!1,show_mail_form:!1,show_code_validation_form:!0,show_password_change_form:!1})):(console.log("Mail Sending Failed"),this.refs.otpEmailSendBtn.removeAttribute("disabled","disabled"),this.setState({loading:!1,error:!0}),"UNF"===e.reset_mail.error_code?this.setState({error_msg:localStorage.getItem("userNotFoundErrorMessage")}):this.setState({error_msg:localStorage.getItem("loginErrorMessage")}))),this.props.validate_email_otp!==e.validate_email_otp&&(e.validate_email_otp.success?(console.log("OTP Validation Success"),this.setState({loading:!1,show_mail_form:!1,show_code_validation_form:!1,show_password_change_form:!0})):(console.log("OTP Validation Failed"),this.refs.otpVerifyBtn.removeAttribute("disabled","disabled"),this.setState({loading:!1,error:!0}),"UNF"===e.validate_email_otp.error_code&&(console.log("userNotFoundErrorMessage"),this.setState({error_msg:localStorage.getItem("userNotFoundErrorMessage")})),"IVOTP"===e.validate_email_otp.error_code&&(console.log("invalidOtpErrorMessage"),this.setState({error_msg:localStorage.getItem("invalidOtpErrorMessage")})),"SWR"===e.validate_email_otp.error_code&&(console.log("loginErrorMessage"),this.setState({error_msg:localStorage.getItem("loginErrorMessage")})))),this.props.change_password!==e.change_password&&(e.change_password.success?(console.log("Password Change Success"),this.setState({loading:!1,show_mail_form:!1,show_code_validation_form:!1,show_password_change_form:!1,error:!1,completed:!0},function(){setTimeout(function(){console.log("Redirecting to login page"),t.context.router.history.push("/login")},2e3)})):(console.log("Password Change Failed"),this.refs.changePassBtn.removeAttribute("disabled","disabled"),this.setState({loading:!1,error:!0}),"UNF"===e.change_password.error_code&&this.setState({error_msg:localStorage.getItem("userNotFoundErrorMessage")}),"IVOTP"===e.change_password.error_code&&this.setState({error_msg:localStorage.getItem("invalidOtpErrorMessage")}),"SWR"===e.change_password.error_code&&this.setState({error_msg:localStorage.getItem("loginErrorMessage")})))}},{key:"render",value:function(){return window.innerWidth>768?d.a.createElement(p.a,{to:"/"}):null===localStorage.getItem("storeColor")?d.a.createElement(p.a,{to:"/"}):d.a.createElement(d.a.Fragment,null,this.state.error&&d.a.createElement("div",{className:"auth-error"},d.a.createElement("div",{className:"error-shake"},this.state.error_msg)),d.a.createElement("div",{style:{backgroundColor:"#f2f4f9"}},d.a.createElement("div",{className:"input-group"},d.a.createElement("div",{className:"input-group-prepend"},d.a.createElement(h.a,{history:this.props.history}))),d.a.createElement("img",{src:"/assets/img/login-header.png",className:"login-image pull-right mr-15",alt:"login-header"}),d.a.createElement("div",{className:"login-texts px-15 mt-50 pb-20"},d.a.createElement("span",{className:"login-title"},localStorage.getItem("resetPasswordPageTitle")),d.a.createElement("br",null),d.a.createElement("span",{className:"login-subtitle"},localStorage.getItem("resetPasswordPageSubTitle")))),d.a.createElement("div",{className:"bg-white"},this.state.show_mail_form&&d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{onSubmit:this.handleSendEmail},d.a.createElement("div",{className:"form-group px-15 pt-30"},d.a.createElement("label",{className:"col-12 edit-address-input-label"},localStorage.getItem("loginLoginEmailLabel")," ",this.validator.message("email",this.state.email,"required|email")),d.a.createElement("div",{className:"col-md-9 pb-5"},d.a.createElement("input",{type:"text",name:"email",onChange:this.handleInputChange,className:"form-control edit-address-input",ref:"emailInput"}))),d.a.createElement("div",{className:"mt-20 px-15 pt-15 button-block"},d.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor")},ref:"otpEmailSendBtn",required:!0},localStorage.getItem("sendOtpOnEmailButtonText")))),this.state.dontHaveOtp&&d.a.createElement("div",{className:"d-flex justify-content-center mt-50"},d.a.createElement("div",{className:"p-10 btn resend-otp w-75",onClick:this.handleAlreadyHaveOtp},localStorage.getItem("alreadyHaveResetOtpButtonText")))),this.state.show_code_validation_form&&d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{onSubmit:this.handleValidateCode},d.a.createElement("div",{className:"form-group px-15 pt-30"},d.a.createElement("label",{className:"col-12 edit-address-input-label"},localStorage.getItem("enterResetOtpMessageText")," ",this.state.email," ",this.validator.message("code",this.state.code,"required")),d.a.createElement("div",{className:"col-md-9 pb-5"},d.a.createElement("input",{ref:"otpInput",type:"text",name:"code",onChange:this.handleInputChange,className:"form-control edit-address-input",required:!0}))),d.a.createElement("div",{className:"mt-20 px-15 pt-15 button-block"},d.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor")},ref:"otpVerifyBtn"},localStorage.getItem("verifyResetOtpButtonText")))),!this.state.dontHaveOtp&&d.a.createElement("div",{className:"d-flex justify-content-center mt-50"},d.a.createElement("div",{className:"p-10 btn resend-otp w-75",onClick:this.handleDontHaveOtp},localStorage.getItem("dontHaveResetOtpButtonText")))),this.state.show_password_change_form&&d.a.createElement("form",{onSubmit:this.handleChangePassword},d.a.createElement("p",{className:"text-muted font-w700 px-15 mt-20 mb-0"},localStorage.getItem("enterNewPasswordText")),d.a.createElement("div",{className:"form-group px-15 pt-30"},d.a.createElement("label",{className:"col-12 edit-address-input-label"},localStorage.getItem("newPasswordLabelText")," ",this.validator.message("password",this.state.password,"required|min:8")),d.a.createElement("div",{className:"col-md-9 pb-5"},d.a.createElement("input",{ref:"passwordInput",type:"text",name:"password",onChange:this.handleInputChange,className:"form-control edit-address-input",required:!0}))),d.a.createElement("div",{className:"mt-20 px-15 pt-15 button-block"},d.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor")},ref:"changePassBtn"},localStorage.getItem("setNewPasswordButtonText")))),this.state.loading&&d.a.createElement("div",{className:"d-flex justify-content-center"},d.a.createElement("img",{src:"/assets/img/various/spinner.svg",alt:"Loading...",style:{width:"50px"}})),this.state.completed&&d.a.createElement("div",{className:"d-flex justify-content-center mt-20"},d.a.createElement("img",{src:"/assets/img/order-placed.gif",alt:"Completed",style:{width:"100px"}}))))}}]),t}(u.Component);S.contextTypes={router:function(){return null}};t.default=Object(f.b)(function(e){return{user:e.user.user,reset_mail:e.user.reset_mail,validate_email_otp:e.user.validate_email_otp,change_password:e.user.change_password}},{sendPasswordResetMail:v.o,verifyPasswordResetOtp:v.r,changeUserPassword:v.b})(S)},275:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==v(e)&&"function"!==typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(o,l,s):o[l]=e[l]}o.default=e,a&&a.set(e,o);return o}(a(0)),n=["placeholder","separator","isLastChild","inputStyle","focus","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure"];function r(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,o=h(e);if(t){var n=h(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;return p(e)}(this,a)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=8,y=37,b=39,E=46,w=32,I=function(e){return"object"===v(e)},_=function(e){d(a,o.PureComponent);var t=g(a);function a(e){var n;return i(this,a),f(p(n=t.call(this,e)),"getClasses",function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return!I(e)&&!1!==e}).join(" ")}),f(p(n),"getType",function(){var e=n.props,t=e.isInputSecure,a=e.isInputNum;return t?"password":a?"tel":"text"}),n.input=o.default.createRef(),n}return u(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.focus,a=e.shouldAutoFocus,o=this.input.current;o&&t&&a&&o.focus()}},{key:"componentDidUpdate",value:function(e){var t=this.props.focus,a=this.input.current;e.focus!==t&&a&&t&&(a.focus(),a.select())}},{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.separator,r=e.isLastChild,i=e.inputStyle,c=e.focus,u=e.isDisabled,d=e.hasErrored,m=e.errorStyle,g=e.focusStyle,p=e.disabledStyle,h=(e.shouldAutoFocus,e.isInputNum),f=e.index,v=e.value,S=e.className,y=(e.isInputSecure,s(e,n));return o.default.createElement("div",{className:S,style:{display:"flex",alignItems:"center"}},o.default.createElement("input",l({"aria-label":"".concat(0===f?"Please enter verification code. ":"").concat(h?"Digit":"Character"," ").concat(f+1),autoComplete:"off",style:Object.assign({width:"1em",textAlign:"center"},I(i)&&i,c&&I(g)&&g,u&&I(p)&&p,d&&I(m)&&m),placeholder:t,className:this.getClasses(i,c&&g,u&&p,d&&m),type:this.getType(),maxLength:"1",ref:this.input,disabled:u,value:v||""},y)),!r&&a)}}]),a}(),N=function(e){d(a,o.Component);var t=g(a);function a(){var e;i(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return f(p(e=t.call.apply(t,[this].concat(r))),"state",{activeInput:0}),f(p(e),"getOtpValue",function(){return e.props.value?e.props.value.toString().split(""):[]}),f(p(e),"getPlaceholderValue",function(){var t=e.props,a=t.placeholder,o=t.numInputs;if("string"===typeof a){if(a.length===o)return a;a.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}}),f(p(e),"handleOtpChange",function(t){(0,e.props.onChange)(t.join(""))}),f(p(e),"isInputValueValid",function(t){return(e.props.isInputNum?!isNaN(parseInt(t,10)):"string"===typeof t)&&1===t.trim().length}),f(p(e),"focusInput",function(t){var a=e.props.numInputs,o=Math.max(Math.min(a-1,t),0);e.setState({activeInput:o})}),f(p(e),"focusNextInput",function(){var t=e.state.activeInput;e.focusInput(t+1)}),f(p(e),"focusPrevInput",function(){var t=e.state.activeInput;e.focusInput(t-1)}),f(p(e),"changeCodeAtFocus",function(t){var a=e.state.activeInput,o=e.getOtpValue();o[a]=t[0],e.handleOtpChange(o)}),f(p(e),"handleOnPaste",function(t){t.preventDefault();var a=e.state.activeInput,o=e.props,n=o.numInputs;if(!o.isDisabled){for(var r=e.getOtpValue(),l=a,s=t.clipboardData.getData("text/plain").slice(0,n-a).split(""),i=0;i<n;++i)i>=a&&s.length>0&&(r[i]=s.shift(),l++);e.setState({activeInput:l},function(){e.focusInput(l),e.handleOtpChange(r)})}}),f(p(e),"handleOnChange",function(t){var a=t.target.value;e.isInputValueValid(a)&&e.changeCodeAtFocus(a)}),f(p(e),"handleOnKeyDown",function(t){t.keyCode===S||"Backspace"===t.key?(t.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput()):t.keyCode===E||"Delete"===t.key?(t.preventDefault(),e.changeCodeAtFocus("")):t.keyCode===y||"ArrowLeft"===t.key?(t.preventDefault(),e.focusPrevInput()):t.keyCode===b||"ArrowRight"===t.key?(t.preventDefault(),e.focusNextInput()):t.keyCode!==w&&" "!==t.key&&"Spacebar"!==t.key&&"Space"!==t.key||t.preventDefault()}),f(p(e),"handleOnInput",function(t){if(e.isInputValueValid(t.target.value))e.focusNextInput();else if(!e.props.isInputNum){var a=t.nativeEvent;null===a.data&&"deleteContentBackward"===a.inputType&&(t.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput())}}),f(p(e),"renderInputs",function(){for(var t=e.state.activeInput,a=e.props,n=a.numInputs,r=a.inputStyle,l=a.focusStyle,s=a.separator,i=a.isDisabled,c=a.disabledStyle,u=a.hasErrored,d=a.errorStyle,m=a.shouldAutoFocus,g=a.isInputNum,p=a.isInputSecure,h=a.className,f=[],v=e.getOtpValue(),S=e.getPlaceholderValue(),y=e.props["data-cy"],b=e.props["data-testid"],E=function(a){f.push(o.default.createElement(_,{placeholder:S&&S[a],key:a,index:a,focus:t===a,value:v&&v[a],onChange:e.handleOnChange,onKeyDown:e.handleOnKeyDown,onInput:e.handleOnInput,onPaste:e.handleOnPaste,onFocus:function(t){e.setState({activeInput:a}),t.target.select()},onBlur:function(){return e.setState({activeInput:-1})},separator:s,inputStyle:r,focusStyle:l,isLastChild:a===n-1,isDisabled:i,disabledStyle:c,hasErrored:u,errorStyle:d,shouldAutoFocus:m,isInputNum:g,isInputSecure:p,className:h,"data-cy":y&&"".concat(y,"-").concat(a),"data-testid":b&&"".concat(b,"-").concat(a)}))},w=0;w<n;w++)E(w);return f}),e}return u(a,[{key:"render",value:function(){var e=this.props.containerStyle;return o.default.createElement("div",{style:Object.assign({display:"flex"},I(e)&&e),className:I(e)?"":e},this.renderInputs())}}]),a}();f(N,"defaultProps",{numInputs:4,onChange:function(e){return console.log(e)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1});var O=N;t.default=O},355:function(e,t,a){"use strict";a.r(t);var o=a(6),n=a(7),r=a(9),l=a(8),s=a(10),i=a(0),c=a.n(i),u=a(51),d=a(88),m=a(201),g=a(229),p=a(49),h=a(326),f=a(317),v=a(225),S=a.n(v),y=a(244),b=a(17),E=a(25),w=a(12),I=a(222),_=a.n(I),N=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(r.a)(this,Object(l.a)(t).call(this))).state={loading:!1,email:"",onlyPhone:"",phone:"",password:"",otp:"",accessToken:"",provider:"",error:!1,email_phone_already_used:!1,invalid_otp:!1,showResendOtp:!1,countdownStart:!1,countDownSeconds:30,email_pass_error:!1,countryCodeSelect:"",isFoodomaaAndroidWebView:!1},e.handleInputChange=function(t){"phone"===t.target.name?(e.setState({phone:e.state.countryCodeSelect+t.target.value.replace(/^0+/,"")}),e.setState({onlyPhone:t.target.value.replace(/^0+/,"")})):e.setState(Object(u.a)({},t.target.name,t.target.value.trim()))},e.handleCountryCodeChange=function(t){var a=t.target;e.setState({countryCodeSelect:a.value},function(){e.setState({phone:a.value+e.state.onlyPhone})})},e.handleLogin=function(t){t.preventDefault(),e.validator.fieldValid("email")&&e.validator.fieldValid("password")?(e.setState({loading:!0}),e.props.loginUser(null,e.state.email,e.state.password,null,null,null,e.getLocationFromLocalStorage(),e.state.otp)):(console.log("validation failed"),e.validator.showMessages())},e.handleRegisterAfterSocialLogin=function(t){t.preventDefault(),e.setState({loading:!0}),e.validator.fieldValid("phone")?"true"===localStorage.getItem("enSOV")?e.props.sendOtp(e.state.email,e.state.phone,null).then(function(t){t.payload.otp||e.setState({error:!1})}):e.props.loginUser(e.state.name,e.state.email,null,e.state.accessToken,e.state.phone,e.state.provider,e.getLocationFromLocalStorage(),e.state.otp):(e.setState({loading:!1}),console.log("Validation Failed"),e.validator.showMessages())},e.resendOtp=function(){e.validator.fieldValid("phone")&&(e.setState({countDownSeconds:15,showResendOtp:!1}),e.props.sendOtp(e.state.email,e.state.phone,null).then(function(t){t.payload.otp||e.setState({error:!1})}))},e.handleVerifyOtp=function(t){t.preventDefault(),console.log("verify otp clicked"),e.validator.fieldValid("otp")&&(e.setState({loading:!0}),e.props.verifyOtp(e.state.phone,e.state.otp))},e.handleOnChange=function(t){e.props.getSingleLanguageData(t.target.value),localStorage.setItem("userPreferedLanguage",t.target.value)},e.handleSocialLogin=function(t){"true"===localStorage.getItem("enSOV")?(e.setState({name:t._profile.name,email:t._profile.email,accessToken:t._token.accessToken,provider:t._provider,social_login:!0,loading:!0}),e.props.sendOtp(t._profile.email,null,t._token.accessToken,t._provider).then(function(t){t.payload.otp||e.setState({error:!1})})):(e.setState({name:t._profile.name,email:t._profile.email,accessToken:t._token.accessToken,provider:t._provider,social_login:!0,loading:!0}),e.props.loginUser(t._profile.name,t._profile.email,null,t._token.accessToken,null,t._provider,e.getLocationFromLocalStorage(),e.state.otp))},e.handleSocialLoginFailure=function(e){console.log("Social Login Error",e)},e.handleCountDown=function(){setTimeout(function(){e.setState({showResendOtp:!0}),clearInterval(e.intervalID)},31e3),e.intervalID=setInterval(function(){console.log("interval going on"),e.setState({countDownSeconds:e.state.countDownSeconds-1})},1e3)},e.processDefaultCountryCode=function(){var t=localStorage.getItem("phoneCountryCode").split(",");return 0===t.length?c.a.createElement("span",{className:"country-code"}):1===t.length?c.a.createElement("span",{className:"country-code"},t[0].replace(/\s/g,"")):t.length>1?c.a.createElement("select",{name:"countryCodeSelect",onChange:e.handleCountryCodeChange,className:"country-code--dropdown"},t.map(function(e){return c.a.createElement("option",{key:e,value:e.replace(/\s/g,"")},e.replace(/\s/g,""))})):void 0},e.getLocationFromLocalStorage=function(){var e=JSON.parse(localStorage.getItem("userSetAddress"));return null===e?null:e.hasOwnProperty("businessLocation")?null:e},e.validator=new S.a({autoForceUpdate:Object(d.a)(Object(d.a)(e)),messages:{required:localStorage.getItem("fieldValidationMsg"),email:localStorage.getItem("emailValidationMsg"),regex:localStorage.getItem("phoneValidationMsg")}}),e}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("phoneCountryCode").split(",");this.setState({countryCodeSelect:t[0].replace(/\s/g,"")}),"false"===localStorage.getItem("enableFacebookLogin")&&"false"===localStorage.getItem("enableGoogleLogin")&&document.getElementById("socialLoginDiv")&&document.getElementById("socialLoginDiv").classList.add("hidden"),"true"!==localStorage.getItem("enableFacebookLogin")&&"true"!==localStorage.getItem("enableGoogleLogin")||setTimeout(function(){e.refs.socialLogin&&e.refs.socialLogin.classList.remove("hidden"),e.refs.socialLoginLoader&&e.refs.socialLoginLoader.classList.add("hidden")},500),"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&this.setState({isFoodomaaAndroidWebView:!0})}},{key:"componentWillReceiveProps",value:function(e){if(this.props.user!==e.user&&this.setState({loading:!1}),e.user.success){if(null!==e.user.data.default_address){var t={lat:e.user.data.default_address.latitude,lng:e.user.data.default_address.longitude,address:e.user.data.default_address.address,house:e.user.data.default_address.house,tag:e.user.data.default_address.tag};localStorage.setItem("userSetAddress",JSON.stringify(t))}"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.registerFcm(e.user.data.auth_token)}if(e.user.email_phone_already_used&&this.setState({email_phone_already_used:!0}),e.user.otp&&(this.setState({email_phone_already_used:!1,error:!1}),document.getElementById("loginForm").classList.add("hidden"),document.getElementById("socialLoginDiv").classList.add("hidden"),document.getElementById("phoneFormAfterSocialLogin").classList.add("hidden"),document.getElementById("otpForm").classList.remove("hidden"),this.setState({countdownStart:!0}),this.handleCountDown(),this.validator.hideMessages()),e.user.valid_otp&&(this.setState({invalid_otp:!1,error:!1,loading:!0}),this.state.social_login?this.props.loginUser(this.state.name,this.state.email,null,this.state.accessToken,this.state.phone,this.state.provider,this.getLocationFromLocalStorage(),this.state.otp):this.props.registerUser(this.state.name,this.state.email,this.state.phone,this.state.password,this.getLocationFromLocalStorage(),this.state.otp),console.log("VALID OTP, REG USER NOW")),!1===e.user.valid_otp&&(console.log("Invalid OTP"),this.setState({invalid_otp:!0})),e.user||this.setState({error:!0}),e.user.proceed_login&&(this.setState({loading:!0}),console.log("From Social : user already exists"),this.props.loginUser(this.state.name,this.state.email,null,this.state.accessToken,null,this.state.provider,this.getLocationFromLocalStorage(),this.state.otp)),e.user.enter_phone_after_social_login&&(this.validator.hideMessages(),document.getElementById("loginForm").classList.add("hidden"),document.getElementById("socialLoginDiv").classList.add("hidden"),document.getElementById("phoneFormAfterSocialLogin").classList.remove("hidden"),console.log("ask to fill the phone number and send otp process...")),"DONOTMATCH"===e.user.data&&this.setState({error:!1,email_pass_error:!0}),this.props.languages!==e.languages)if(localStorage.getItem("userPreferedLanguage"))this.props.getSingleLanguageData(localStorage.getItem("userPreferedLanguage"));else if(e.languages.length){console.log("Fetching Translation Data...");var a=e.languages.filter(function(e){return 1===e.is_default})[0].id;this.props.getSingleLanguageData(a)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){if(window.innerWidth>768)return c.a.createElement(f.a,{to:"/"});if(null===localStorage.getItem("storeColor"))return c.a.createElement(f.a,{to:"/"});if(this.props.user.success)return"1"===localStorage.getItem("fromCartToLogin")?(localStorage.removeItem("fromCartToLogin"),c.a.createElement(f.a,{to:"/cart"})):c.a.createElement(f.a,{to:"/my-account"});var e=this.props.languages;return console.log(this.state.phone),c.a.createElement(c.a.Fragment,null,this.state.error&&c.a.createElement("div",{className:"auth-error"},c.a.createElement("div",{className:"error-shake"},localStorage.getItem("loginErrorMessage"))),this.state.email_phone_already_used&&c.a.createElement("div",{className:"auth-error"},c.a.createElement("div",{className:"error-shake"},localStorage.getItem("emailPhoneAlreadyRegistered"))),this.state.invalid_otp&&c.a.createElement("div",{className:"auth-error"},c.a.createElement("div",{className:"error-shake"},localStorage.getItem("invalidOtpMsg"))),this.state.email_pass_error&&c.a.createElement("div",{className:"auth-error"},c.a.createElement("div",{className:"error-shake"},localStorage.getItem("emailPassDonotMatch"))),this.state.loading&&c.a.createElement(w.a,null),c.a.createElement("div",{className:"cust-auth-header"},c.a.createElement("div",{className:"input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement(g.a,{history:this.props.history}))),c.a.createElement(_.a,{right:!0,delay:500},c.a.createElement("img",{src:"/assets/img/various/login-illustration.png",className:"login-image pull-right",alt:"login-header"})),c.a.createElement("div",{className:"login-texts px-15 mt-30 pb-20"},c.a.createElement("span",{className:"login-title"},localStorage.getItem("loginLoginTitle")),c.a.createElement("br",null),c.a.createElement("span",{className:"login-subtitle"},localStorage.getItem("loginLoginSubTitle")))),c.a.createElement("div",{className:"bg-white"},c.a.createElement("form",{onSubmit:this.handleLogin,id:"loginForm"},c.a.createElement("div",{className:"form-group px-15 pt-30"},c.a.createElement("div",{className:"col-md-9 pb-5"},c.a.createElement("input",{type:"text",name:"email",onChange:this.handleInputChange,className:"form-control auth-input",placeholder:localStorage.getItem("loginLoginEmailLabel")}),this.validator.message("email",this.state.email,"required|email")),c.a.createElement("div",{className:"col-md-9"},c.a.createElement("input",{type:"password",name:"password",onChange:this.handleInputChange,className:"form-control auth-input",placeholder:localStorage.getItem("loginLoginPasswordLabel")}),this.validator.message("password",this.state.password,"required"))),c.a.createElement("div",{className:"mt-20 mx-15 d-flex justify-content-center"},c.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor"),width:"90%",borderRadius:"4px"}},localStorage.getItem("firstScreenLoginBtn")))),c.a.createElement("form",{onSubmit:this.handleVerifyOtp,id:"otpForm",className:"hidden"},c.a.createElement("div",{className:"form-group px-15 pt-30"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement("input",{name:"otp",type:"tel",onChange:this.handleInputChange,className:"form-control auth-input",required:!0,placeholder:localStorage.getItem("otpSentMsg")}),this.validator.message("otp",this.state.otp,"required|numeric|min:4|max:6")),c.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor")}},localStorage.getItem("verifyOtpBtnText")),c.a.createElement("div",{className:"mt-30 mb-10"},this.state.showResendOtp&&c.a.createElement("div",{className:"resend-otp",onClick:this.resendOtp},localStorage.getItem("resendOtpMsg")," ",this.state.phone),this.state.countDownSeconds>0&&c.a.createElement("div",{className:"resend-otp countdown"},localStorage.getItem("resendOtpCountdownMsg")," ",this.state.countDownSeconds)))),c.a.createElement("form",{onSubmit:this.handleRegisterAfterSocialLogin,id:"phoneFormAfterSocialLogin",className:"hidden"},c.a.createElement("div",{className:"form-group px-15 pt-30"},c.a.createElement("label",{className:"col-12 auth-input-label"},localStorage.getItem("socialWelcomeText")," ",this.state.name,","),c.a.createElement("label",{className:"col-12 auth-input-label"},localStorage.getItem("enterPhoneToVerify")," "),c.a.createElement("div",{className:"col-md-9 pb-5"},c.a.createElement("div",null,this.processDefaultCountryCode(),c.a.createElement("span",null,c.a.createElement("input",{name:"phone",type:"tel",onChange:this.handleInputChange,className:"form-control phone-number-country-code auth-input"}),this.validator.message("phone",this.state.phone,["required",{regex:["^\\+[1-9]\\d{1,14}$"]},{min:["8"]}])))),c.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor")}},localStorage.getItem("registerRegisterTitle")))),!this.state.isFoodomaaAndroidWebView&&c.a.createElement("div",{className:"text-center mt-3 mb-20",id:"socialLoginDiv"},c.a.createElement("p",{className:"login-or mt-4"}," ",localStorage.getItem("socialLoginOrText")," "),c.a.createElement("div",{ref:"socialLoginLoader"},c.a.createElement(p.a,{height:60,width:400,speed:1.2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},c.a.createElement("rect",{x:"28",y:"0",rx:"0",ry:"0",width:"165",height:"45"}),c.a.createElement("rect",{x:"210",y:"0",rx:"0",ry:"0",width:"165",height:"45"}))),c.a.createElement("div",{ref:"socialLogin",className:"hidden d-flex justify-content-center align-items-center"},"true"===localStorage.getItem("enableFacebookLogin")&&c.a.createElement(y.a,{provider:"facebook",appId:localStorage.getItem("facebookAppId"),onLoginSuccess:this.handleSocialLogin,onLoginFailure:this.handleSocialLoginFailure,className:"facebook-login-button mr-3"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("div",null,c.a.createElement("img",{src:"/assets/img/various/facebook.png",alt:"Facebook Login",className:"img-fluid",style:{width:"18px",marginRight:"10px"}})),c.a.createElement("div",{style:{fontSize:"14px"}},localStorage.getItem("facebookLoginButtonText")))),"true"===localStorage.getItem("enableGoogleLogin")&&c.a.createElement(y.a,{provider:"google",appId:localStorage.getItem("googleAppId"),onLoginSuccess:this.handleSocialLogin,onLoginFailure:this.handleSocialLoginFailure,className:"google-login-button"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("div",null,c.a.createElement("img",{src:"/assets/img/various/google.png",alt:"Google Login",className:"img-fluid",style:{width:"18px",marginRight:"10px"}})),c.a.createElement("div",{style:{fontSize:"14px"}},localStorage.getItem("googleLoginButtonText")))))),c.a.createElement("div",null,c.a.createElement("div",{className:"wave-container login-bottom-wave"},c.a.createElement("svg",{viewBox:"0 0 120 28",className:"wave-svg"},c.a.createElement("defs",null,c.a.createElement("filter",{id:"goo"},c.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1",result:"blur"}),c.a.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 13 -9",result:"goo"}),c.a.createElement("xfeBlend",{in:"SourceGraphic",in2:"goo"})),c.a.createElement("path",{id:"wave",d:"M 0,10 C 30,10 30,15 60,15 90,15 90,10 120,10 150,10 150,15 180,15 210,15 210,10 240,10 v 28 h -240 z"})),c.a.createElement("use",{id:"wave3",className:"wave",xlinkHref:"#wave",x:"0",y:"-2"}),c.a.createElement("use",{id:"wave2",className:"wave",xlinkHref:"#wave",x:"0",y:"0"})))),c.a.createElement("div",{className:"text-center mt-50 mb-20 auth-reg-text-block"},localStorage.getItem("loginDontHaveAccount")," ",c.a.createElement(h.a,{to:"/register",style:{color:localStorage.getItem("storeColor")},className:"auth-reg-link"},localStorage.getItem("firstScreenRegisterBtn")))),"true"===localStorage.getItem("enPassResetEmail")&&c.a.createElement("div",{className:"mt-4 d-flex align-items-center justify-content-center"},c.a.createElement(h.a,{to:"/login/forgot-password",style:{color:localStorage.getItem("storeColor")},className:"auth-forgot-password-btn"},localStorage.getItem("forgotPasswordLinkText"))),"null"!==localStorage.getItem("registrationPolicyMessage")?c.a.createElement("div",{className:"mt-20 mb-20 d-flex align-items-center justify-content-center auth-custom-msg-block",dangerouslySetInnerHTML:{__html:localStorage.getItem("registrationPolicyMessage")}}):c.a.createElement("div",{className:"mb-100"}),e&&e.length>1&&c.a.createElement("div",{className:"mt-4 d-flex align-items-center justify-content-center mb-100"},c.a.createElement("div",{className:"mr-2"},localStorage.getItem("changeLanguageText")),c.a.createElement("select",{onChange:this.handleOnChange,defaultValue:localStorage.getItem("userPreferedLanguage")?localStorage.getItem("userPreferedLanguage"):e.filter(function(e){return 1===e.is_default})[0].id,className:"form-control language-select"},e.map(function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.language_name)}))))}}]),t}(i.Component);N.contextTypes={router:function(){return null}};var O=Object(b.b)(function(e){return{user:e.user.user,language:e.languages.language,languages:e.languages.languages}},{loginUser:m.h,registerUser:m.l,sendOtp:m.n,verifyOtp:m.q,getSingleLanguageData:E.b})(N),C=a(43),L=a(275),x=a.n(L),k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(r.a)(this,Object(l.a)(t).call(this))).state={loading:!1,email:"",phone:"",password:"",otp:"",numInputs:"6",error:!1,email_phone_already_used:!1,invalid_otp:!1,showResendOtp:!1,countdownStart:!1,countDownSeconds:30,email_pass_error:!1,countryCodeSelect:"",newUser:!1,referral_code:""},e.handleInputChange=function(t){"phone"===t.target.name?(e.setState({phone:e.state.countryCodeSelect+t.target.value.replace(/^0+/,"")}),e.setState({onlyPhone:t.target.value.replace(/^0+/,"")})):e.setState(Object(u.a)({},t.target.name,t.target.value.trim()))},e.handleOtpInput=function(t){return e.setState({otp:t})},e.handleCountryCodeChange=function(t){var a=t.target;e.setState({countryCodeSelect:a.value},function(){e.setState({phone:a.value+e.state.onlyPhone})})},e.__sendOtp=function(t){t.preventDefault(),!e.state.newUser&&e.validator.fieldValid("phone")?(e.setState({loading:!0}),e.props.generateOtpForLogin(e.state.phone,e.state.email)):e.state.newUser&&e.validator.fieldValid("phone")&&e.validator.fieldValid("email")?(e.setState({loading:!0}),e.props.generateOtpForLogin(e.state.phone,e.state.email)):(e.setState({loading:!1}),console.log("validation failed"),e.validator.showMessages())},e.__loginWithOtp=function(t){var a=void 0!==e.props.refcode?e.props.refcode:null,o=null!==e.state.referral_code?e.state.referral_code:null,n=null!==a?a:o;t.preventDefault(),e.props.loginWithOtp(e.state.phone,e.state.otp,e.state.name,e.state.email,e.getLocationFromLocalStorage(),n),e.setState({loading:!0})},e.handleCountDown=function(){setTimeout(function(){e.setState({showResendOtp:!0}),clearInterval(e.intervalID)},31e3),e.intervalID=setInterval(function(){console.log("interval going on"),e.setState({countDownSeconds:e.state.countDownSeconds-1})},1e3)},e.resendOtp=function(){e.validator.fieldValid("phone")&&(e.setState({countDownSeconds:15,showResendOtp:!1}),e.props.generateOtpForLogin(e.state.phone,e.state.email).then(function(t){t.payload.otp||e.setState({error:!1})}))},e.handleOnChange=function(t){e.props.getSingleLanguageData(t.target.value),localStorage.setItem("userPreferedLanguage",t.target.value)},e.handleCountDown=function(){setTimeout(function(){e.setState({showResendOtp:!0}),clearInterval(e.intervalID)},31e3),e.intervalID=setInterval(function(){console.log("interval going on"),e.setState({countDownSeconds:e.state.countDownSeconds-1})},1e3)},e.processDefaultCountryCode=function(){var t=localStorage.getItem("phoneCountryCode").split(",");return 0===t.length?c.a.createElement("span",{className:"country-code"}):1===t.length?c.a.createElement("span",{className:"country-code"},t[0].replace(/\s/g,"")):t.length>1?c.a.createElement("select",{name:"countryCodeSelect",onChange:e.handleCountryCodeChange,className:"country-code--dropdown"},t.map(function(e){return c.a.createElement("option",{key:e,value:e.replace(/\s/g,"")},e.replace(/\s/g,""))})):void 0},e.getLocationFromLocalStorage=function(){var e=JSON.parse(localStorage.getItem("userSetAddress"));return null===e?null:e.hasOwnProperty("businessLocation")?null:e},e.validator=new S.a({autoForceUpdate:Object(d.a)(Object(d.a)(e)),messages:{required:localStorage.getItem("fieldValidationMsg"),email:localStorage.getItem("emailValidationMsg"),regex:localStorage.getItem("phoneValidationMsg")}}),e}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("phoneCountryCode").split(",");this.setState({countryCodeSelect:e[0].replace(/\s/g,"")}),this.props.refcode&&localStorage.setItem("referral_code",this.props.refcode)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.user!==e.user&&this.setState({loading:!1}),e.user.success){if(null!==e.user.data.default_address){var t={lat:e.user.data.default_address.latitude,lng:e.user.data.default_address.longitude,address:e.user.data.default_address.address,house:e.user.data.default_address.house,tag:e.user.data.default_address.tag};localStorage.setItem("userSetAddress",JSON.stringify(t))}"FoodomaaAndroidWebViewUA"===navigator.userAgent&&"undefined"!==window.Android&&window.Android.registerFcm(e.user.data.auth_token)}if(e.user.email_phone_already_used&&this.setState({email_phone_already_used:!0}),e.user.otp&&(this.setState({email_phone_already_used:!1,error:!1}),document.getElementById("loginForm").classList.add("hidden"),document.getElementById("otpForm").classList.remove("hidden"),this.setState({countdownStart:!0}),this.handleCountDown(),this.validator.hideMessages()),!e.user.otp&&e.user.new_user&&(console.log("New User"),this.setState({newUser:!0}),this.validator.hideMessages()),e.user||this.setState({error:!0}),e.user.enter_phone_after_social_login&&(this.validator.hideMessages(),document.getElementById("loginForm").classList.add("hidden"),console.log("ask to fill the phone number and send otp process...")),"DONOTMATCH"===e.user.data&&this.setState({error:!1,email_pass_error:!1,invalid_otp:!0}),this.props.languages!==e.languages)if(localStorage.getItem("userPreferedLanguage"))this.props.getSingleLanguageData(localStorage.getItem("userPreferedLanguage"));else if(e.languages.length){console.log("Fetching Translation Data...");var a=e.languages.filter(function(e){return 1===e.is_default})[0].id;this.props.getSingleLanguageData(a)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){if(window.innerWidth>768)return c.a.createElement(f.a,{to:"/"});if(null===localStorage.getItem("storeColor"))return c.a.createElement(f.a,{to:"/"});if(this.props.user.success)return"1"===localStorage.getItem("fromCartToLogin")?(localStorage.removeItem("fromCartToLogin"),c.a.createElement(f.a,{to:"/cart"})):c.a.createElement(f.a,{to:"/my-account"});var e=localStorage.getItem("referral_code");"null"!==e&&"undefined"!==e||(e="");var t=this.props.languages;return c.a.createElement(c.a.Fragment,null,this.state.error&&c.a.createElement("div",{className:"auth-error"},c.a.createElement("div",{className:"error-shake"},localStorage.getItem("loginErrorMessage"))),this.state.email_phone_already_used&&c.a.createElement("div",{className:"auth-error"},c.a.createElement("div",{className:"error-shake"},localStorage.getItem("emailPhoneAlreadyRegistered"))),this.state.invalid_otp&&c.a.createElement("div",{className:"auth-error"},c.a.createElement("div",{className:"error-shake"},localStorage.getItem("invalidOtpMsg"))),this.state.loading&&c.a.createElement(w.a,null),c.a.createElement("div",{className:"cust-auth-header"},c.a.createElement("div",{className:"input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement(g.a,{history:this.props.history}))),c.a.createElement(_.a,{right:!0,delay:500},c.a.createElement("img",{src:"/assets/img/various/login-illustration.png",className:"login-image pull-right",alt:"login-header"})),c.a.createElement("div",{className:"login-texts px-15 mt-30 pb-20"},this.state.newUser?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"login-title"},localStorage.getItem("registerRegisterTitle")),c.a.createElement("br",null),c.a.createElement("span",{className:"login-subtitle"},localStorage.getItem("registerRegisterSubTitle"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"login-title"},localStorage.getItem("loginLoginTitle")),c.a.createElement("br",null),c.a.createElement("span",{className:"login-subtitle"},localStorage.getItem("loginLoginSubTitle"))))),c.a.createElement("div",{className:"bg-white"},c.a.createElement("form",{onSubmit:this.__sendOtp,id:"loginForm"},c.a.createElement("div",{className:"form-group px-15 pt-30"},c.a.createElement("div",{className:"col-md-9 pb-5"},c.a.createElement("div",null,this.processDefaultCountryCode(),c.a.createElement("span",null,c.a.createElement("input",{name:"phone",type:"tel",onChange:this.handleInputChange,className:"form-control phone-number-country-code auth-input",placeholder:localStorage.getItem("loginLoginPhoneLabel")}),this.validator.message("phone",this.state.phone,["required",{regex:["^\\+[1-9]\\d{1,14}$"]},{min:["8"]}])))),this.state.newUser&&c.a.createElement("div",{id:"newUserFields"},c.a.createElement("div",{className:"col-md-9 pb-5"},c.a.createElement("input",{type:"text",name:"name",onChange:this.handleInputChange,className:"form-control auth-input",placeholder:localStorage.getItem("loginLoginNameLabel")}),this.validator.message("name",this.state.name,"required|string")),c.a.createElement("div",{className:"col-md-9 pb-5"},c.a.createElement("input",{type:"text",name:"email",onChange:this.handleInputChange,className:"form-control auth-input",placeholder:localStorage.getItem("loginLoginEmailLabel")}),this.validator.message("email",this.state.email,"required|email")),"null"!==e?c.a.createElement("div",{className:"col-md-9 pb-5"},c.a.createElement("input",{type:"text",name:"referral_code",onChange:this.handleInputChange,className:"form-control auth-input",placeholder:"Referral Code (optional)",value:e})):c.a.createElement("div",{className:"col-md-9 pb-5"},c.a.createElement("input",{type:"text",name:"referral_code",onChange:this.handleInputChange,className:"form-control auth-input",placeholder:"Referral Code (optional)"})))),c.a.createElement("div",{className:"mt-20 mx-10 d-flex justify-content-center"},c.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor"),width:"90%",borderRadius:"4px"}},this.state.newUser?localStorage.getItem("registerRegisterTitle"):localStorage.getItem("firstScreenLoginBtn")))),c.a.createElement("form",{onSubmit:this.__loginWithOtp,id:"otpForm",className:"hidden"},c.a.createElement("div",{className:"form-group px-15 pt-30"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement(x.a,{value:this.state.otp,onChange:this.handleOtpInput,numInputs:this.state.numInputs,isInputNum:!0,containerStyle:"login-with-otp-input-container",inputStyle:"login-with-otp-input",shouldAutoFocus:!0})),c.a.createElement("div",{className:"col-md-9 mt-20"},c.a.createElement("button",{type:"submit",className:"btn btn-main",style:{backgroundColor:localStorage.getItem("storeColor"),borderRadius:"4px"},disabled:this.state.otp.length<this.state.numInputs},localStorage.getItem("verifyOtpBtnText"))),c.a.createElement("div",{className:"mt-30 mb-10"},this.state.showResendOtp&&c.a.createElement("div",{className:"resend-otp",onClick:this.resendOtp},localStorage.getItem("resendOtpMsg")," ",this.state.phone),this.state.countDownSeconds>0&&c.a.createElement("div",{className:"resend-otp countdown"},localStorage.getItem("resendOtpCountdownMsg")," ",this.state.countDownSeconds)))),c.a.createElement("div",null,c.a.createElement("div",{className:"wave-container login-bottom-wave"},c.a.createElement("svg",{viewBox:"0 0 120 28",className:"wave-svg"},c.a.createElement("defs",null,c.a.createElement("filter",{id:"goo"},c.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1",result:"blur"}),c.a.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 13 -9",result:"goo"}),c.a.createElement("xfeBlend",{in:"SourceGraphic",in2:"goo"})),c.a.createElement("path",{id:"wave",d:"M 0,10 C 30,10 30,15 60,15 90,15 90,10 120,10 150,10 150,15 180,15 210,15 210,10 240,10 v 28 h -240 z"})),c.a.createElement("use",{id:"wave3",className:"wave",xlinkHref:"#wave",x:"0",y:"-2"}),c.a.createElement("use",{id:"wave2",className:"wave",xlinkHref:"#wave",x:"0",y:"0"}))))),this.state.newUser&&c.a.createElement(c.a.Fragment,null,"null"!==localStorage.getItem("registrationPolicyMessage")?c.a.createElement("div",{className:"mt-20 mb-20 d-flex align-items-center justify-content-center auth-custom-msg-block",dangerouslySetInnerHTML:{__html:localStorage.getItem("registrationPolicyMessage")}}):c.a.createElement("div",{className:"mb-100"})),t&&t.length>1&&c.a.createElement("div",{className:"mt-4 d-flex align-items-center justify-content-center mb-100"},c.a.createElement("div",{className:"mr-2"},localStorage.getItem("changeLanguageText")),c.a.createElement("select",{onChange:this.handleOnChange,defaultValue:localStorage.getItem("userPreferedLanguage")?localStorage.getItem("userPreferedLanguage"):t.filter(function(e){return 1===e.is_default})[0].id,className:"form-control language-select"},t.map(function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.language_name)}))))}}]),t}(i.Component);k.contextTypes={router:function(){return null}};var D=Object(b.b)(function(e){return{user:e.user.user,language:e.languages.language,languages:e.languages.languages}},{loginWithOtp:m.i,generateOtpForLogin:m.e,getSingleLanguageData:E.b})(k),P=a(261),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={enOLnR:""},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.settings&&this.props.settings.find(function(e){return"enOLnR"===e.key});this.setState({enOLnR:e.value})}},{key:"render",value:function(){var e=this.props.match?this.props.match.params.refcode:null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{seotitle:localStorage.getItem("seoMetaTitle"),seodescription:localStorage.getItem("seoMetaDescription"),ogtype:"website",ogtitle:localStorage.getItem("seoOgTitle"),ogdescription:localStorage.getItem("seoOgDescription"),ogurl:window.location.href,twittertitle:localStorage.getItem("seoTwitterTitle"),twitterdescription:localStorage.getItem("seoTwitterDescription")}),"forgot-password"===e?c.a.createElement(P.default,null):"true"===this.state.enOLnR?c.a.createElement(D,{refcode:e}):c.a.createElement(O,{refcode:e}))}}]),t}(i.Component);t.default=Object(b.b)(function(e){return{settings:e.settings.settings}},{})(F)}}]);